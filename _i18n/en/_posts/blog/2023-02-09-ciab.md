---
layout: post
title: "Let's put the cloud in a box"
image: "blog/ciab.jpg"
author:
  - "Eduard Itrich"
avatar:
  - "eitrich.jpg"
about:
  - "eitrich"
---

We had quite a few sunny days in the southwest of Germany and my mini PV system was running at full load. Reason enough to think about where to put the excess energy, I decided to have yet another look at current state of the *Cloud in a box* image that is provided by [OSISM](https://osism.tech/en).

<figure class="figure mx-auto d-block" style="width:75%">
  <a href="{% asset "blog/ciab-micropv.png" @path %}">
    {% asset 'blog/ciab-micropv.png' class="figure-img w-100" %}
  </a>
</figure>

But one by one and from the start...

## Background

The [initial impetus](https://github.com/SovereignCloudStack/issues/issues/116) dates back to mid 2022 and has been discussed several times in the Sovereign Cloud Stack community. The basic idea is to develop a single-node image of our SCS reference implementation that can easily be installed on a mediocre computer system. This allows us to showcase the SCS reference implementation at conferences on the one hand and to perform hands-on experiments with our technology on the other hand. Basically, it's like a sandbox for nerds that sits in your basement or under your desk. ü§ì

Shortly after [Alexander](https://scs.community/diab) joined our team, he took the lead and organized some test systems for our community. Thanks again for your great effort! üôè

We currently have some of the following configurations distributed within our community which allows us to develop and to test the anticipated *Cloud in a box* image:

* Supermicro Server Mainboard H12SSL-NT with 2x RJ45 @ 10 Gbit/s
* AMD Epyc 7313P, 16 Cores/32 Threads, 3.00 ‚Äì 3.70GHz
* 128GB DDR4 ECC Ram
* 2x 1024GB NVMe storage

The hardware comes in a nice ATX chassis by Fractal Design and therefore has definitely no reason to be shy at events.

## All roads lead to Colonia Claudia Ara Agrippinensium

The first time ever we had the chance to put our fingers on this brand new toy was at the [first SCS Community Hackathon]({% post_url blog/2022-11-25-hackathon-wrapup %}) happening November last year in Cologne. Kurt brought along his system and we were able to install a very first MVP initially developed by OSISM some weeks earlier.

**TODO:** Add learnings and contributed code (e.g. to build a seperate image for systems with a NVMe drives). Maybe there is a nice picture of the working session?

## Let's get ready to rumble ‚Äì but hold, where's my VGA cable?

I initially had a first look at my own machine at some point between Christmas and New Year's Eve. Lucky me, I already have a small but decent Homelab located in my basement and therefore the necessary uplink was already given. Even more lucky, I had an older screen currently available, that I wanted to attach to the new box. But wait... does this household actually not own a single VGA cable? Even though Marie Kondo says [she has *kind of given up* on tidying at home](https://www.theguardian.com/lifeandstyle/2023/jan/30/queen-of-clean-marie-kondo-says-she-has-kind-of-given-up-on-tidying-at-home) since the birth of her third child, I somehow must have emptied my cable box earlier the year (*¬ªSure, I won't need this old VGA cable ever again!¬´*).

üí° Fortunately, the built-in Supermicro motherboard has an excellent IPMI (Thanks, Alex!) which allowed me to use the system without any screen attached... and even without having so sit in my basement during December!

Having given a hostname for my system, I was able to access my *Cloud in a box* via `http://ciab.fritz.box/`.

<figure class="figure mx-auto d-block" style="width:75%">
  <a href="{% asset "blog/ciab-ipmi.png" @path %}">
    {% asset 'blog/ciab-ipmi.png' class="figure-img w-100" %}
  </a>
</figure>

The default username and password turn out to be `ADMIN`/`ADMIN` and whoosh... there you go! 

Installing the CiaB node image was fairly self-explaining. I provisioned the autoinstall image `ubuntu-autoinstall-cloud-in-a-box-2.iso` on a USB stick using [Etcher](https://www.balena.io/etcher), rushed down the stairs to plug in the stick and hurried straight back to my desk in order to finally start the boot sequence. The image contains a minimal OS that after a first boot starts to pull in all needed packets and to install the real *Cloud in a box* image. Booting over a second time ‚Äì after having unplugged the USB stick ‚Äì, I had a ready to be used cloud and container stack in by basement. Yay! üéâ