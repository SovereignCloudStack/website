function is_youtubelink(e){var t=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return!!e.match(t)&&RegExp.$1}function is_imagelink(e){var t=/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i;return!!e.match(t)}function is_vimeolink(e,t){var i=!1,a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState==XMLHttpRequest.DONE)if(200==a.status){var e=JSON.parse(a.responseText);i=e.video_id,console.log(i),t.classList.add("lightbox-vimeo"),t.setAttribute("data-id",i),t.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+t.getAttribute("data-id")+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}else 400==a.status?alert("There was an error 400"):alert("something else other than 200 was returned")},a.open("GET","https://vimeo.com/api/oembed.json?url="+e,!0),a.send()}function setGallery(e){var t;if(document.body.querySelectorAll(".gallery").forEach(e=>{e.classList.remove("gallery")}),e.closest(".row")){var i=e.closest(".row").querySelectorAll("a[class*='lightbox-']"),a;i.forEach(e=>{e.classList.remove("current")}),i.forEach(t=>{e.getAttribute("href")==t.getAttribute("href")&&t.classList.add("current")}),i.length>1&&(document.getElementById("lightbox").classList.add("gallery"),i.forEach(e=>{e.classList.add("gallery")}));var l=document.querySelectorAll("a.gallery");if(Object.keys(l).forEach(function(e){l[e].classList.contains("current")&&(a=e)}),a==l.length-1)var n=0;else var n=parseInt(a)+1;if(0==a)var r=parseInt(l.length-1);else var r=parseInt(a)-1;document.getElementById("next").addEventListener("click",function(){l[n].click()}),document.getElementById("prev").addEventListener("click",function(){l[r].click()})}}document.addEventListener("DOMContentLoaded",function(){var e=document.createElement("div"),t,t,t;e.setAttribute("id","lightbox"),document.body.appendChild(e),(t=document.querySelectorAll("a")).forEach(e=>{var t=e.getAttribute("href");if(t&&(-1===t.indexOf("vimeo")||e.classList.contains("no-lightbox")||is_vimeolink(t,e),is_youtubelink(t)&&!e.classList.contains("no-lightbox")&&(e.classList.add("lightbox-youtube"),e.setAttribute("data-id",is_youtubelink(t))),is_imagelink(t)&&!e.classList.contains("no-lightbox"))){e.classList.add("lightbox-image");var i,a,l,n=e.getAttribute("href").split("/").pop().split(".")[0];e.setAttribute("title",n)}}),document.getElementById("lightbox").addEventListener("click",function(e){"next"!=e.target.id&&"prev"!=e.target.id&&(this.innerHTML="",document.getElementById("lightbox").style.display="none")}),(t=document.querySelectorAll("a.lightbox-youtube")).forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+this.getAttribute("data-id")+'?autoplay=1&showinfo=0&rel=0"></iframe></div>',document.getElementById("lightbox").style.display="block",setGallery(this)})}),(t=document.querySelectorAll("a.lightbox-image")).forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url(\''+this.getAttribute("href")+'\') center center / contain no-repeat;" title="'+this.getAttribute("title")+'" ><img src="'+this.getAttribute("href")+'" alt="'+this.getAttribute("title")+'" /></div><span>'+this.getAttribute("title")+"</span>",document.getElementById("lightbox").style.display="block",setGallery(this)})})});
//# sourceMappingURL=/assets/source-maps/vendor/lightbox.js.map
//# sourceURL=_assets/vendor/lightbox.js
