The static [SCS website](https://scs.community) is generated by [Jekyll](https://jekyllrb.com/). The theme is originally based on the template [business-frontpage](https://github.com/sharu725/business-frontpage) by [sharu725](https://github.com/sharu725). We're heavily making use of [Bootstrap 5](https://getbootstrap.com/docs/5.0) to layout the page content.

The website is automatically build every 15 minutes or on every push to `main` and subsequently pulled onto our webspace.

## Adding content

### How can I publish a community blog posting?
Create a markup document located at `_i18n/en/blog` and/or respectively `_i18n/de/blog`  to add a new blog post. Be aware that the file shall be named `YEAR-MONTH-DAY-title.MARKUP` according to the Jekyll conventions (see [Jekyll Docs](https://jekyllrb.com/docs/posts/)).

### How can I create a new page?
Due to the internalization plugin, you have to create multiple files. First of all, add a new markup document under `_pages`, set the desired layout, e.g. `default` and add the line
```
{% tf pagetitle.MARKUP %}
```
Following this step, you have to create the documents `pagetitle.MARKUP` located at `_i18n/en` and `_i18n/de`. Note that you have to create at least the English translation or otherwise the build process will fail.

### How can I add a press release?
Add the press release to `_data/news_de.yml` for German speaking press release or `_data/news_en.yml` for English speaking releases.

### How can I add a new partner?
Upload the logo to `assets/images` and add a entry in `_data/supporter.yml`

### How can I add custom styling definitions (CSS code)?
As we're using Bootstrap, please add your custom styling definitions to `assets/css/_sass/custom.css`

## Testing changes on `staging` branch

We're using a dedicated workflow to build a staging preview of our website that subsequently is published with GitHub Pages. To make use of this feature, simply push to `staging`. Please try to keep `staging` in sync with `main`, e.g. by deleting and recreating after testing your recent changes. The staging area can be reached via <https://sovereigncloudstack.github.io/website/>.

## Testing changes locally

* Clone Repo
  ```
  git clone git@github.com:SovereignCloudStack/website.git
  ```
* Start testserver
  ```
  docker run --privileged -it --rm -p 4000:4000 -e LC_ALL=C.UTF-8 -e LANG=C.UTF-8 -v $(pwd):/site debezium/website-builder bash
  apk add --update vips uglify-js
  bundle update
  bundle install
  jekyll serve config _config.yml,_config.dev.yml  --incremental -H 0.0.0.0
  ```
* Edit files, wait for 16 seconds for minor changes
* Test the view
  ```
  firefox  http://127.0.0.1:4000
  ```

